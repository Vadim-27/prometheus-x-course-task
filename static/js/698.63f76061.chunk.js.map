{"version":3,"file":"static/js/698.63f76061.chunk.js","mappings":"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","sources":["webpack://prometheus-x-course-task/./src/modules/Book/CounterBook/CounterBook.module.scss?cf0b","modules/Book/CounterBook/CounterBook.jsx","webpack://prometheus-x-course-task/./src/modules/Book/Book.module.scss?f1d2","modules/Book/Book.jsx","pages/OneBookPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapperCounter\":\"CounterBook_wrapperCounter__oqdF2\",\"countList\":\"CounterBook_countList__kSxd5\",\"itemCounter\":\"CounterBook_itemCounter__vMl57\",\"input\":\"CounterBook_input__6Bobt\",\"wrapperButton\":\"CounterBook_wrapperButton__TgUjB\"};","import { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport ButtonPrimary from '../../../shared/components/Button/ButtonPrimary/ButtonPrimary';\nimport { fetchCart } from '../../../redux/books/books-operation';\n\nimport css from './CounterBook.module.scss';\n\nconst CounterBook = ({ price, id, title }) => {\n  const [quantity, setQuantity] = useState({\n    count: 1,\n    totalPrice: price,\n  });\n\n  const dispatch = useDispatch();\n  const addInCart = () => {\n    dispatch(\n      fetchCart({\n        id: id,\n        title: title,\n        price: price,\n        count: quantity.count,\n        totalPrice: quantity.totalPrice,\n      })\n    );\n  };\n\n  useEffect(() => {\n    const storedCount = localStorage.getItem('count');\n    if (storedCount) {\n      setQuantity(prevQuantity => ({\n        ...prevQuantity,\n        count: parseInt(storedCount),\n        totalPrice: parseInt(storedCount) * price,\n      }));\n    }\n    return () => {\n      localStorage.removeItem('count');\n    };\n  }, [price]);\n\n  const handleQuantityChange = e => {\n    const newCount = parseInt(e.target.value);\n    const newTotalPrice = newCount * price;\n\n    setQuantity({\n      count: newCount,\n      totalPrice: newTotalPrice,\n    });\n    localStorage.setItem('count', newCount.toString());\n  };\n\n  return (\n    <div className={css.wrapperCounter}>\n      <ul className={css.countList}>\n        <li className={css.itemCounter}>\n          <p>Price, $</p>\n          <p>{price}</p>\n        </li>\n        <li className={css.itemCounter}>\n          <p>Count</p>\n          <input\n            className={css.input}\n            type=\"number\"\n            min=\"1\"\n            max=\"42\"\n            step=\"1\"\n            value={quantity.count}\n            onChange={handleQuantityChange}\n          />\n        </li>\n        <li className={css.itemCounter}>\n          <p>Total price, $</p>\n          <p>{quantity.totalPrice.toFixed(2)}</p>\n        </li>\n      </ul>\n\n      <div className={css.wrapperButton} onClick={addInCart}>\n        <ButtonPrimary>Add to cart</ButtonPrimary>\n      </div>\n    </div>\n  );\n};\nexport default CounterBook;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapperCardBook\":\"Book_wrapperCardBook__-JEXR\",\"wrapperInfoBook\":\"Book_wrapperInfoBook__9P--4\",\"wrapperTag\":\"Book_wrapperTag__hBUdL\",\"wrapperTagList\":\"Book_wrapperTagList__wa62b\",\"wrapperImg\":\"Book_wrapperImg__VRUw2\",\"image\":\"Book_image__SGPMI\",\"bookName\":\"Book_bookName__D0E9+\",\"bookAuthor\":\"Book_bookAuthor__0kvmS\",\"bookLevel\":\"Book_bookLevel__ZnELl\",\"bookDescription\":\"Book_bookDescription__UnEDR\"};","import { useParams } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nimport { getAllBooks } from '../../redux/books/books-selectors';\n\nimport CounterBook from './CounterBook/CounterBook';\n\nimport css from './Book.module.scss';\n\nconst Book = () => {\n  const { id } = useParams();\n  const isBooks = useSelector(getAllBooks);\n\n  const element = isBooks.find(book => book.id === parseInt(id));\n\n  if (!element) {\n    return <div>Book not found</div>;\n  }\n  const { image, title, author, level, price, tags, description } = element;\n  // const imgSrc = image ? image : defaultImage;\n  const imgSrc = image;\n\n  return (\n    <div className={`${css.wrapperCardBook} ${'container'}`}>\n      <div className={css.wrapperInfoBook}>\n        <div className={css.wrapperImg}>\n          <img src={imgSrc} alt=\"Book\" className={css.image} />\n        </div>\n        <div>\n          <p className={css.bookName}>Title: {title}</p>\n          <p className={css.bookAuthor}>Author: {author}</p>\n          <p className={css.bookLevel}>level: {level}</p>\n          <div className={css.wrapperTag}>\n            Tag:{' '}\n            <ul className={css.wrapperTagList}>\n              {tags.map((tag, index) => (\n                <li key={index}>{tag},</li>\n              ))}\n            </ul>\n          </div>\n        </div>\n        <CounterBook price={price} id={id} title={title} />\n      </div>\n      <p className={css.bookDescription}>Description: {description}</p>\n    </div>\n  );\n};\n\nexport default Book;\n","import Book from 'modules/Book/Book';\n\nconst OneBookPage = () => {\n  return (\n    <div>\n      <Book />\n    </div>\n  );\n};\nexport default OneBookPage;\n"],"names":["price","id","title","useState","count","totalPrice","quantity","setQuantity","dispatch","useDispatch","useEffect","storedCount","localStorage","getItem","prevQuantity","parseInt","removeItem","className","css","type","min","max","step","value","onChange","e","newCount","target","setItem","toString","toFixed","onClick","fetchCart","ButtonPrimary","useParams","element","useSelector","getAllBooks","find","book","image","author","level","tags","description","imgSrc","src","alt","map","tag","index"],"sourceRoot":""}