"use strict";(self.webpackChunkprometheus_x_course_task=self.webpackChunkprometheus_x_course_task||[]).push([[245],{2245:function(t,e,r){r.r(e),r.d(e,{default:function(){return j}});var a=r(9439),c=r(4420),n=r(2791),i=r(3995),s=r(6512),o=r(9524),l=r(4747),m=r(1087),u="EmptyCart_titleEmptyCart__GkiZG",_="EmptyCart_textEmptyCart__m9HLP",d="EmptyCart_linkBtn__s9eMf",p="EmptyCart_btnEmptyCart__n1Cds",h=r(184),C=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h1",{className:u,children:"The cart is currently empty."}),(0,h.jsx)("p",{className:_,children:"To add books to your cart, go to the books page"}),(0,h.jsx)(m.rU,{className:d,to:"/books",children:(0,h.jsx)("button",{className:p,type:"button",children:"Go to books page"})})]})},I={btnBought:"Cart_btnBought__qeFji",section:"Cart_section__6bgIi",cartItem:"Cart_cartItem__JZK9j",dark:"Cart_dark__q5PMm",cartItemTitle:"Cart_cartItemTitle__y-Sgq",cartItemPrice:"Cart_cartItemPrice__0beE9",cartItemCountName:"Cart_cartItemCountName__qpaRn",cartItemBtn:"Cart_cartItemBtn__ys-xR",cartItemCount:"Cart_cartItemCount__i15at",cartItem_totalPrice:"Cart_cartItem_totalPrice__YtyV7",totalPrice:"Cart_totalPrice__PDJI1",wrapperItemTrash:"Cart_wrapperItemTrash__10p8u",light:"Cart_light__y1pGs"},x=function(){var t=(0,l.F)().isDark,e=(0,c.I0)(),r=(0,c.v9)(i.d),m=localStorage.getItem("cart"),u=(0,n.useState)([]),_=(0,a.Z)(u,2),d=_[0],p=_[1];(0,n.useEffect)((function(){var t=r.length>0?r:JSON.parse(m)||[];p(t)}),[r,m]);var x=d.map((function(t){var r=t.id,a=t.title,c=t.price,n=t.count,i=t.totalPrice;return(0,h.jsxs)("li",{className:I.cartItem,children:[(0,h.jsx)("p",{className:I.cartItemTitle,children:a}),(0,h.jsxs)("p",{className:I.cartItemPrice,children:["Price: ",c," $"]}),(0,h.jsx)("p",{className:I.cartItemCountName,children:"Count:"}),(0,h.jsx)("button",{className:I.cartItemBtn,onClick:function(){return function(t){var r=t.id,a=t.title,c=t.count,n=t.price;console.log("handleDecrement",r);var i=c>1?c-1:1,o=i*n;e((0,s.H9)({id:r,title:a,count:i,price:n,totalPrice:o}))}({id:r,title:a,count:n,price:c,totalPrice:i})},children:"-"}),(0,h.jsx)("p",{className:I.cartItemCount,children:n}),(0,h.jsx)("button",{className:I.cartItemBtn,onClick:function(){return function(t){var r=t.id,a=t.title,c=t.count,n=t.price,i=c<42?c+1:42,o=i*n;e((0,s.H9)({id:r,title:a,count:i,price:n,totalPrice:o}))}({id:r,title:a,count:n,price:c,totalPrice:i})},children:"+"}),(0,h.jsxs)("p",{className:I.cartItem_totalPrice,children:["Total price, $",i.toFixed(2)]}),(0,h.jsx)("div",{className:I.wrapperItemTrash,onClick:function(){return function(t){var r=t.id;e((0,s.jT)({id:r}))}({id:r})},children:(0,h.jsx)(o.O,{id:"trash",styles:I.itemTrash})})]},r)})),j=d.reduce((function(t,e){return t+e.totalPrice}),0);return(0,h.jsx)("div",{className:"".concat(I.section," ").concat(t?I.dark:I.light," ","container"),children:d.length>0?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{type:"button",className:I.btnBought,onClick:function(){localStorage.removeItem("cart"),e((0,s.F2)([])),p([])},children:"Purchase"}),(0,h.jsx)("ul",{children:x}),(0,h.jsxs)("p",{className:I.totalPrice,children:["Total price, $ ",j.toFixed(2)," "]})]}):(0,h.jsx)(C,{})})},j=function(){return(0,h.jsx)("div",{children:(0,h.jsx)(x,{})})}}}]);
//# sourceMappingURL=245.b039ca31.chunk.js.map