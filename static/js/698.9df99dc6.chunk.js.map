{"version":3,"file":"static/js/698.9df99dc6.chunk.js","mappings":"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","sources":["webpack://prometheus-x-course-task/./src/modules/Book/CounterBook/CounterBook.module.scss?cf0b","modules/Book/CounterBook/CounterBook.jsx","webpack://prometheus-x-course-task/./src/modules/Book/Book.module.scss?f1d2","modules/Book/Book.jsx","pages/OneBookPage.jsx","redux/books/books-selectors.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapperCounter\":\"CounterBook_wrapperCounter__oqdF2\",\"countList\":\"CounterBook_countList__kSxd5\",\"itemCounter\":\"CounterBook_itemCounter__vMl57\",\"input\":\"CounterBook_input__6Bobt\",\"wrapperButton\":\"CounterBook_wrapperButton__TgUjB\"};","import { Link } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport ButtonPrimary from 'shared/components/Button/ButtonPrimary/ButtonPrimary';\n\nimport css from './CounterBook.module.scss';\n\nconst CounterBook = ({ price  }) => {\n  const [quantity, setQuantity] = useState({\n    count: 1,\n    totalPrice: price,\n  });\n\n  useEffect(() => {\n    const storedCount = localStorage.getItem('count');\n    if (storedCount) {\n      setQuantity(prevQuantity => ({\n        ...prevQuantity,\n        count: parseInt(storedCount),\n        totalPrice: parseInt(storedCount) * price,\n      }\n\n      ));\n    }\n    return () => {\n      localStorage.removeItem('count');\n    };\n  }, [price]);\n\n  const handleQuantityChange = e => {\n     const newCount = parseInt(e.target.value);\n     const newTotalPrice = newCount * price;\n\n    setQuantity({\n      count: newCount,\n      totalPrice: newTotalPrice\n    });\n    localStorage.setItem('count', newCount.toString());\n  };\n\n  return (\n    <div className={css.wrapperCounter}>\n      <ul className={css.countList}>\n        <li className={css.itemCounter}>\n          <p>Price, $</p>\n          <p>{price}</p>\n        </li>\n        <li className={css.itemCounter}>\n          <p>Count</p>\n          <input\n            className={css.input}\n            type=\"number\"\n            min=\"1\"\n            max=\"100\"\n            step=\"1\"\n            value={quantity.count}\n            onChange={handleQuantityChange}\n          />\n        </li>\n        <li className={css.itemCounter}>\n          <p>Total price, $</p>\n          <p>{quantity.totalPrice.toFixed(2)}</p>\n        </li>\n      </ul>\n\n      <Link className={css.wrapperButton} to={'/cart'}>\n        <ButtonPrimary>Add to cart</ButtonPrimary>\n      </Link>\n    </div>\n  );\n};\nexport default CounterBook;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapperInfoBook\":\"Book_wrapperInfoBook__9P--4\",\"wrapperTag\":\"Book_wrapperTag__hBUdL\",\"wrapperTagList\":\"Book_wrapperTagList__wa62b\",\"wrapperImg\":\"Book_wrapperImg__VRUw2\",\"image\":\"Book_image__SGPMI\",\"bookName\":\"Book_bookName__D0E9+\",\"bookAuthor\":\"Book_bookAuthor__0kvmS\",\"bookLevel\":\"Book_bookLevel__ZnELl\",\"bookDescription\":\"Book_bookDescription__UnEDR\"};","import { useParams } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\n// import { fetchAllBooks } from '../../redux/books/books-operation';\nimport { getAllBooks } from '../../redux/books/books-selectors';\nimport defaultImage from '../../assete/jpg/default2.jpg';\nimport { fetchAllBooks } from '../../redux/books/books-operation';\nimport data from '../../shared/services/books';\nimport CounterBook from './CounterBook/CounterBook';\n\nimport css from './Book.module.scss';\n\nconst Book = () => {\n  const dispatch = useDispatch();\n  dispatch(fetchAllBooks(data));\n  const { id } = useParams();\n  const isBooks = useSelector(getAllBooks);\n  console.log('isBooks', isBooks);\n  // if (!isBooks) {\n  //   return <div>Book not found</div>;\n  // }\n  const element = isBooks.find(book => book.id === parseInt(id));\n  console.log('element', element);\n  if (!element) {\n    return <div>Book not found</div>;\n  }\n  const { image, title, author, level, price, tags, description } = element;\n  const imgSrc = image ? image : defaultImage;\n  //   const dispatch = useDispatch();\n  // dispatch(fetchAllBooks(data));\n  return (\n    <div className={`${css.wrapperCardBook} ${'container'}`}>\n      <div className={css.wrapperInfoBook}>\n        <div className={css.wrapperImg}>\n          <img src={imgSrc} alt=\"Book\" className={css.image} />\n        </div>\n        <div>\n          <p className={css.bookName}>Title: {title}</p>\n          <p className={css.bookAuthor}>Author: {author}</p>\n          <p className={css.bookLevel}>level: {level}</p>\n          <div className={css.wrapperTag}>\n            Tag:{' '}\n            <ul className={css.wrapperTagList}>\n              {tags.map((tag, index) => (\n                <li key={index}>{tag},</li>\n              ))}\n            </ul>\n          </div>\n        </div>\n        <CounterBook price={price} />\n      </div>\n      <p className={css.bookDescription}>Description: {description}</p>\n    </div>\n  );\n};\n\nexport default Book;\n","import Book from \"modules/Book/Book\";\n\nconst OneBookPage = () => {\n  return <div>\n    <Book/>\n  </div>;\n};\nexport default OneBookPage;\n","export const getAllBooks = ({ books }) => books.items;\n"],"names":["price","useState","count","totalPrice","quantity","setQuantity","useEffect","storedCount","localStorage","getItem","prevQuantity","parseInt","removeItem","className","css","type","min","max","step","value","onChange","e","newCount","target","setItem","toString","toFixed","to","ButtonPrimary","useDispatch","dispatch","fetchAllBooks","data","id","useParams","isBooks","useSelector","getAllBooks","console","log","element","find","book","image","title","author","level","tags","description","imgSrc","defaultImage","src","alt","map","tag","index","books","items"],"sourceRoot":""}